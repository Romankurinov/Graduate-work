## План автоматизации по дипломному проекту по курсу "Тестировщик ПО"

### План автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

Приложение представляет собой веб-сервис по покупке тура.

### **1. Перечень автоматизируемых сценариев**

#### **Описание валидных значений в поля ввода банковской карты**
* В поле номер карты вводится 16 значный номер карты используя арабские цифры
* В поле месяц вводится номер месяца не раннее текущего месяца - 2 знака
* В поле год вводится год - от "22" до "25"
* В поле "Владелец" с помощью библиотеки faker вводится имя и
  фамилия латиницей
* В поле cvc/cvv вводится рандомно 3 числа

#### **Позитивные сценарии (Happy Path)**

**Основная задача:**
Тестирование покупки тура двумя способами:
* Оплата по дебетовой карте
* Выдача кредита по данным банковской карты

**Варианты сценариев:**


I. Успешная оплата тура дебетовой картой

Перед всеми тестами на странице выбора способа оплаты тура
нажимаем кнопку "Купить"

1. Оплата тура картой со статусом APPROVED

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

*Ожидаемый результат:*
При оплате тура картой со статусом APPROVED,
появляется сообщение: "Успешно! Операция одобрена банком"
В базах данных - Mysql и postgresSQL должны появиться данные об
операции в таблицах payment_entity и order_entity

2. Оплата тура картой со статусом DECLINED

- В поле номер карты ввести валидное значение карты со статусом DECLINED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

*Ожидаемый результат:*
При оплате тура картой со статусом DECLINED,
появляется сообщение: "Ошибка! Банк отказал в проведении операции.".
В базе данных запись формируется только в таблице payment_entity.

II. Успешная оплата тура с помощью кредита

Перед всеми тестами на странице выбора способа оплаты
тура нажимаем кнопку "Купить в кредит"

1. Оплата тура картой со статусом APPROVED

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

*Ожидаемый результат:*
При оплате тура картой со статусом APPROVED,
появляется сообщение: "Успешно! Операция одобрена банком"
В базах данных - Mysql и postgresSQL должны появиться данные об
операции в таблицах credit_request_entity и order_entity.

2. Оплата тура картой со статусом DECLINED

- В поле номер карты ввести валидное значение карты со статусом DECLINED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

*Ожидаемый результат:*
При оплате тура картой со статусом DECLINED,
появляется сообщение: "Ошибка! Банк отказал в проведении операции.".
В базе данных запись формируется только в таблице payment_entity.

#### **Негативные сценарии (Sad Path)**

**Основная задача:**
Проверяем ввод невалидных данных в поля персональных данных заявки
на покупку тура.

**Перед началом тестирования на странице выбора способа оплаты:**

- Для проверки оплаты тура по дебетовой карте нажимаем кнопку "Купить"

- Для проверки оплаты тура с помощью кредита, нажимаем кнопку "Купить в кредит"

**Далее сценарии для обоих способов оплаты идентичны:**

1. Проверяем ввод недостаточного количества цифр в поле номер карты.
   
- В поле номер карты ввести значение - от 1 до 15 цифр
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

    *Ожидаемый результат:*
Внизу поля возникает сообщение "Неверный формат".

2. Проверка отправки пустого поля номера карты.

- Оставить пустым поле номер карты
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля номера карты возникает сообщение "Неверный формат".

3. Проверка ввода буквенных символов в поле ввода "Номер карты"

- В поле номер карты ввести рандомно имя,
  сформированное с помощью библиотеки faker.
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  невозможно ввести буквенные символы в поле для ввода цифр.

4. Проверка ввода несуществующего номера карты

- В поле номер карты ввести номер карты "8888_8888_8888_8888"
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

    *Ожидаемый результат:* После клика на кнопку "Продолжить" возникает сообщение
"Ошибка! Банк отказал в проведении операции."

5. Проверка ввода номера карты с использованием только цифры 0

- В поле номер карты ввести номер карты "0000_0000_0000_0000"
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* После клика на кнопку "Продолжить" возникает сообщение
  "Ошибка! Банк отказал в проведении операции."

6. Проверяем ввод недостаточного количества цифр в поле месяц.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц рандомно ввести номер месяца - 1 знак
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля месяц возникает сообщение "Неверно заполнено поле".

7. Проверить ввод в поле месяц прошедшего месяца.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести номер месяца не позднее - 1 месяц от текущего месяца - 2 знака.
- В поле год ввести год - "22"
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* возникает сообщение "Неверно указан срок действия карты".
  Данные не отправляются.

8. Проверка отправки пустого поля месяц.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- Оставить пустым поле месяц
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля месяц возникает сообщение "Неверный формат".

9. Проверка ввода буквенных символов в поле ввода "Месяц".
   
- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести буквенные символы
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  невозможно ввести буквенные символы в поле для ввода цифр.

10. Проверка ввода поля месяц с использованием только цифры 0

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести значение "00"
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* После клика на кнопку "Продолжить" возникает сообщение
  "Ошибка! Банк отказал в проведении операции."

11. Проверяем ввод недостаточного количества цифр в поле год.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год рандомно ввести номер года - 1 знак
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля год возникает сообщение "Неверно заполнено поле".

12. Проверяем ввод истекшей даты. Остальные поля заполняем валидными данными.
   
- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц рандомно ввести номер месяца - 2 знака
- В поле год рандомно ввести год - от "01" до "21"
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* внизу поля для месяца возникает сообщение "Неверно указан срок действия карты",
внизу поля года - сообщение "Истёк срок действия карты".

13. Проверяем ввод года на несколько лет вперёд.
   
- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц рандомно ввести номер месяца - 2 знака
- В поле год рандомно ввести год - от "27" до "35"
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* внизу поля ввода года - сообщение
"Неверно указан срок действия карты".
Данные не отправляются. Запись в базу данных не формируются.

14. Проверка ввода буквенных символов в поле ввода "Год".

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести буквенные символы
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  невозможно ввести буквенные символы в поле для ввода цифр.

15. Проверка ввода поля год с использованием только цифры 0

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести значение "00"
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* После клика на кнопку "Продолжить" возникает сообщение
  "Ошибка! Банк отказал в проведении операции."

16. Проверка отправки пустого поля год.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- Оставить пустым поле год
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля год возникает сообщение "Неверный формат".

17. Проверяем ввод имени владельца карты кириллицей.
    Остальные поля заполнить валидными данными.
   
- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" с помощью библиотеки faker ввести русские имя и
  фамилию кириллицей
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* внизу поля для ввода имени возникает сообщение "Неверный формат ввода имени и фамилии".
Данные на сервер не отправляются.

18. Проверка отправки пустого поля Владелец.

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- Оставить пустым поле "Владелец"
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
Внизу поля "Владелец" - сообщение "Поле обязательно для заполнения".

19. Проверка ввода случайных символов в поле "Владелец".
   
- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести " !@$&^ "
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
Возникает сообщение "Неверно указан владелец карты". Данные не отправляются.

20. Проверка ввода цифр в поле "Владелец".

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести рандомно 3 числа
- В поле cvc/cvv ввести валидное значение
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Возникает сообщение "Неверный формат". Данные не отправляются.

21. Проверяем ввод недостаточного количества цифр в поле ввода "CVC/CVV".

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести значение - 1 или 2 знака
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля "CVC/CVV" возникает сообщение "Неверно заполнено поле".

22. Проверка отправки пустого поля "CVC/CVV".

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- Оставить пустым поле cvc/cvv
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:*
  Внизу поля год возникает сообщение "Неверный формат".

23. Проверка ввода буквенных символов в поле ввода "CVC/CVV".

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv ввести буквенные символы
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* невозможно ввести буквенные символы в поля для ввода цифр.
Данные не отправляются.

24. Проверка ввода поля "CVC/CVV" с использованием только цифры 0

- В поле номер карты ввести валидное значение карты со статусом APPROVED
- В поле месяц ввести валидное значение
- В поле год ввести валидное значение
- В поле "Владелец" ввести валидное значение
- В поле cvc/cvv значение "000"
- Нажать кнопку "Продолжить"

  *Ожидаемый результат:* После клика на кнопку "Продолжить" возникает сообщение
  "Ошибка! Банк отказал в проведении операции."

### **2. Перечень используемых инструментов с обоснованием выбора**

1. IntelliJ IDEA — интегрированная среда разработки программного обеспечения.
   Подходит для работы на Java. Умная среда разработки, есть автодополнения кода
   и очень гибкие настройки для работы. Поддерживает операционные системы Microsoft Windows,
   Linux, macOC.
1. Java 11 — язык написания авто-тестов. Удобен тем, что поддерживает большое количество
   библиотек для написания кода автотестов.
1. Gradle — система управления зависимостями. Проект с автотестами
   создать на базе Gradle.
1. JUnit — платформа для написания авто-тестов и их запуска. Легко подключается
   в файле build.gradle в зависимостях.
1. Git и GitHub — удобно использовать для хранения кода, в том числе авто-тестов
   (папку .gitignore готовим заранее)
1. CSS-селекторы — специальный язык выражений, позволяющий
   осуществлять поиск на странице веб-интерфейса.
1. Selenide — это фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Удобен тем, что легко добавляется в зависимости
   в файл build.gradle. Не требует отдельной загрузки файла вебдрайвера для управления браузером.
1. Библиотека Facker. Легко подключается в build.gradle. Необходима для того,
   чтобы избежать эффекта пестицида при вводе валидных данных.
   Используем для ввода рандомных данных. Невалидные данные можно захардкордить.
1. Библиотека Lombok, позволит ускорить процесс написания стандартных методов
   и конструкторов, а также упростит код.
1. Docker Desktop - система контейнеризации. Позволит подключить базы данных MySQL
   и PostgresSQL.

### **3. Перечень и описание возможных рисков при автоматизации**

Выполнение задачи может затянуться из-за следующих моментов:

* Сложности в настройки Docker.
  Необходимо проверить поддержку 2х СУБД - MySQL и PostgreSQL.
  А также настроить работу симулятора банковских сервисов.
* Неуникальные локаторы, которые затрудняют поиск элементов
  на страницах приложения.
* Поскольку приложение состоит из нескольких страниц,
  структура страниц может оказаться достаточно сложной, поэтому для написания pageObject потребуется больше времени.

### **4. Интервальная оценка с учётом рисков (в часах)**

* Подготовка к проведению тестирования: 12 часов
* Написание автотестов: 18 часов
* Подготовка отчетов о проведении тестирования: 6

### **5. План сдачи работы**

1. Планирование автоматизации тестирования до 27.07.2022 г.
2. Написание и выполнение тестов до 10.08.2022 г.
3. Подготовке отчётных документов по итогам автоматизированного тестирования до 15.08.2022 г.
4. Подготовка отчётных документов по итогам автоматизации до 19.08.2022 г.